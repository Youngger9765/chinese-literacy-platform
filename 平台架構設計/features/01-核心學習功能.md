# æ ¸å¿ƒå­¸ç¿’åŠŸèƒ½è¨­è¨ˆ

> è¨˜éŒ„æ—¥æœŸï¼š2026-02-13
> ä¾†æºï¼šLMS_EXTENDED_SYSTEMS.md + BUSINESS_LOGIC_DECISIONS.md
> Phaseï¼š1 (MVP å¿…é ˆ)

---

## ğŸ“‹ æ ¸å¿ƒå­¸ç¿’æ¨¡çµ„

### 1. æœ—è®€ç·´ç¿’æ¨¡çµ„

**åŠŸèƒ½æè¿°**ï¼š
- STT (Speech-to-Text) èªéŸ³è¾¨è­˜
- AI è©•åˆ†ï¼ˆæº–ç¢ºç‡ã€èªé€Ÿã€æµæš¢åº¦ï¼‰
- éŒ¯èª¤åˆ†æï¼ˆè·³å­—ã€åŠ å­—ã€è®€éŒ¯ï¼‰

**è³‡æ–™çµæ§‹**ï¼š
```sql
reading_sessions:
  - session_id
  - student_id
  - course_node_id  -- é—œè¯åˆ°èª²ç¨‹ç¯€é»
  - audio_url
  - transcript (STT çµæœ)
  - wer (å­—éŒ¯èª¤ç‡)
  - accuracy
  - speed (å­—/åˆ†é˜)
  - fluency_score
  - ai_feedback TEXT
  - created_at

reading_errors:
  - error_id
  - session_id
  - error_type (skip | insert | substitute)
  - position
  - expected_word
  - actual_word
```

---

### 2. ç”Ÿå­—è©å­¸ç¿’æ¨¡çµ„

**åŠŸèƒ½æè¿°**ï¼š
- éƒ¨ä»¶æ‹†è§£æ•™å­¸ï¼ˆæ›¾æ•™æˆæ•™å­¸æ³•ï¼‰
- ç­†é †å‹•ç•«ï¼ˆæ–¹å¤§å“¥ 9,606 å­—è³‡æ–™ï¼‰
- ç”Ÿå­—æ¸¬é©—

**è³‡æ–™çµæ§‹**ï¼š
```sql
words:
  - word_id
  - word VARCHAR(10)
  - bopomofo
  - tone
  - radical
  - components JSONB
  - stroke_order_json JSONB
  - definition

word_learning_sessions:
  - session_id
  - student_id
  - word_id
  - activity_type (view | write | quiz)
  - quiz_score
  - created_at
```

---

### 3. é–±è®€ç†è§£æ¸¬é©—

**åŠŸèƒ½æè¿°**ï¼š
- é¸æ“‡é¡Œã€å•ç­”é¡Œ
- AI æ‰¹æ”¹é–‹æ”¾å¼å•ç­”
- ç†è§£èƒ½åŠ›è©•ä¼°

**è³‡æ–™çµæ§‹**ï¼š
```sql
comprehension_questions:
  - question_id
  - course_node_id
  - question_type (multiple_choice | short_answer | essay)
  - question_text
  - correct_answer (nullable for essay)
  - rubric JSONB

student_answers:
  - answer_id
  - student_id
  - question_id
  - answer_text
  - is_correct
  - score
  - ai_feedback
  - created_at
```

---

### 4. è˜‡æ ¼æ‹‰åº•å°è©±ï¼ˆPhase 3ï¼‰

**åŠŸèƒ½æè¿°**ï¼š
- AI å¼•å°å¼å°è©±
- é–‹æ”¾å¼å•ç­”
- æ€è€ƒèƒ½åŠ›è©•ä¼°

**è³‡æ–™çµæ§‹**ï¼š
```sql
socratic_dialogues:
  - dialogue_id
  - student_id
  - course_node_id
  - conversation JSONB
  - comprehension_score
  - turn_count
  - created_at
```

---

## ğŸ¯ å­¸ç¿’æµç¨‹è¨­è¨ˆ

### å…¸å‹å­¸ç¿’è·¯å¾‘

```
1. å­¸ç”Ÿæ‰“é–‹èª²ç¨‹
   â†“
2. é¸æ“‡å­¸ç¿’æ¨¡çµ„
   â†“
3. å®Œæˆå­¸ç¿’æ´»å‹•
   â†“
4. AI å³æ™‚æ‰¹æ”¹
   â†“
5. éŒ¯èª¤åˆ†æ â†’ æ¨è–¦è£œæ•‘
   â†“
6. è¨˜éŒ„å­¸ç¿’æ´»å‹•
```

---

## ğŸ“Š API è¨­è¨ˆ

### æœ—è®€ç·´ç¿’ API

```python
# æäº¤æœ—è®€éŸ³è¨Š
POST /api/reading-sessions
{
  "student_id": "uuid",
  "course_node_id": "uuid",
  "audio_file": "base64_or_url"
}

# å›æ‡‰
{
  "session_id": "uuid",
  "transcript": "æˆ‘æœ‰ä¸€å€‹æº«æš–çš„å®¶",
  "accuracy": 0.95,
  "speed": 85.5,
  "wer": 0.05,
  "fluency_score": 88,
  "errors": [
    {"type": "skip", "position": 5, "expected": "æº«æš–"}
  ],
  "ai_feedback": "æœ—è®€æµæš¢ï¼Œä½†ã€æº«æš–ã€è·³å­—äº†ï¼Œå»ºè­°é‡è®€ä¸€æ¬¡ã€‚"
}
```

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [README.md](./README.md) - åŠŸèƒ½ç¸½è¦½
- [../architecture/03-èª²ç¨‹çµæ§‹è¨­è¨ˆ.md](../architecture/03-èª²ç¨‹çµæ§‹è¨­è¨ˆ.md) - èª²ç¨‹æ¥­å‹™é‚è¼¯
