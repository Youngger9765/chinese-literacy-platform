# éŠæˆ²åŒ–ç³»çµ±è¨­è¨ˆ

> è¨˜éŒ„æ—¥æœŸï¼š2026-02-13
> ä¾†æºï¼šLMS_EXTENDED_SYSTEMS.md ç³»çµ± 1
> Phaseï¼š1-2

---

## ğŸ“‹ éŠæˆ²åŒ–çµ„ä»¶

### 1. é»æ•¸ç³»çµ±

**é»æ•¸é¡å‹**ï¼š
- **XP (ç¶“é©—å€¼)**ï¼šç´¯ç©æå‡ç­‰ç´š
- **Coins (é‡‘å¹£)**ï¼šå¯å…Œæ›è™›æ“¬ç‰©å“
- **Stars (æ˜Ÿæ˜Ÿ)**ï¼šç‰¹å®šæˆå°±å°ˆç”¨

**è³‡æ–™çµæ§‹**ï¼š
```sql
student_points:
  - point_id
  - student_id
  - organization_id  -- å¤šç§Ÿæˆ¶éš”é›¢
  - point_type (xp | coins | stars)
  - amount
  - source (assignment_completion | daily_login | streak)
  - related_activity_id
  - earned_at
```

---

### 2. ç­‰ç´šç³»çµ±

**è¨­è¨ˆ**ï¼š
- ç­‰ç´š 1-100
- ç¶“é©—å€¼éå¢ï¼ˆLV1â†’2 éœ€ 100 XPï¼ŒLV2â†’3 éœ€ 150 XPï¼‰
- æ¯ 10 ç´šè§£é–æ–°é ­åƒæ¡†æˆ–ç¨±è™Ÿ

**è³‡æ–™çµæ§‹**ï¼š
```sql
student_levels:
  - student_id
  - current_level
  - current_xp
  - total_xp
  - unlocked_avatars JSONB
  - unlocked_titles JSONB
```

---

### 3. å¾½ç« ç³»çµ±

**å¾½ç« é¡å‹**ï¼š
- **é€²åº¦é¡ (Progress)**ï¼šå®Œæˆç¬¬ä¸€å€‹ä½œæ¥­ã€é€£çºŒå­¸ç¿’ 7 å¤©
- **èƒ½åŠ›é¡ (Ability)**ï¼šæœ—è®€æº–ç¢ºç‡ > 95%ã€èªè­˜ 500 å­—
- **æŒ‘æˆ°é¡ (Challenge)**ï¼šæ—©èµ·é³¥å¾½ç« ã€é€±æœ«å­¸éœ¸å¾½ç« ï¼ˆå®Œæˆç‰¹æ®ŠæŒ‘æˆ°ç²å¾—ï¼‰

**è³‡æ–™çµæ§‹**ï¼š
```sql
badges:
  - badge_id
  - name
  - description
  - icon_url
  - badge_type (progress | ability | challenge)
  - unlock_criteria JSONB
  - rarity (common | rare | epic | legendary)

student_badges:
  - student_id
  - badge_id
  - earned_at
  - progress (0-100)
```

---

### 4. æ’è¡Œæ¦œ

**é¡å‹**ï¼š
- ç­ç´šæ’è¡Œæ¦œï¼ˆå‰ 10 åï¼‰
- å­¸æ ¡æ’è¡Œæ¦œï¼ˆå‰ 50 åï¼‰
- é€±æ’è¡Œæ¦œï¼ˆæœ¬é€±æ´»èºåº¦ï¼‰

**éš±ç§ä¿è­·**ï¼š
- å­¸ç”Ÿå¯é¸æ“‡ã€ŒåŒ¿åæ¨¡å¼ã€
- åƒ…é¡¯ç¤ºå‰ N åå’Œè‡ªå·±çš„æ’å

**è³‡æ–™çµæ§‹**ï¼š
```sql
leaderboards:
  - leaderboard_id
  - type (class | school | weekly)
  - scope_id (classroom_id or school_id)
  - period_start
  - period_end

leaderboard_entries:
  - leaderboard_id
  - student_id
  - rank
  - score
  - display_name
```

---

### 5. ä»»å‹™èˆ‡æŒ‘æˆ°ç³»çµ± (Quests & Challenges)

**ä»»å‹™é¡å‹**ï¼š
- **æ¯æ—¥ä»»å‹™ (Daily Quest)**ï¼šå®Œæˆ 1 å€‹ä½œæ¥­ã€ç™»å…¥å­¸ç¿’
- **é€±ä»»å‹™ (Weekly Mission)**ï¼šå®Œæˆ 5 å€‹ä½œæ¥­ã€ç²å¾— 3 å€‹å¾½ç« 
- **æŒ‘æˆ° (Challenge)**ï¼šæ—©èµ·é³¥ï¼ˆç‰¹æ®Šæ¢ä»¶ï¼‰ã€é€±æœ«å­¸éœ¸ï¼ˆç‰¹æ®Šæ¢ä»¶ï¼‰
- **æˆå°±é‡Œç¨‹ç¢‘ (Milestone)**ï¼šèªè­˜ 1000 å­—ã€é–±è®€ 100 ç¯‡æ–‡ç« 

**è³‡æ–™çµæ§‹**ï¼š
```sql
quests_and_challenges:
  - task_id
  - name
  - task_type (daily_quest | weekly_mission | challenge | milestone)
    -- daily_quest: æ¯æ—¥ä»»å‹™
    -- weekly_mission: é€±ä»»å‹™
    -- challenge: ç‰¹æ®ŠæŒ‘æˆ°ï¼ˆæœ‰ç‰¹å®šæ¢ä»¶ï¼Œå¦‚æ™‚é–“ã€é€£çºŒæ€§ï¼‰
    -- milestone: æˆå°±é‡Œç¨‹ç¢‘ï¼ˆé•·æœŸç›®æ¨™ï¼‰
  - completion_criteria JSONB
  - rewards JSONB
  - special_conditions JSONB  -- åƒ… challenge ä½¿ç”¨ï¼ˆå¦‚ï¼šæ—©ä¸Š 8 é»å‰ã€é€±æœ«ï¼‰

student_tasks:
  - student_id
  - task_id
  - progress (0-100)
  - completed_at
  - claimed_reward
```

**ä»»å‹™é¡å‹èªªæ˜**ï¼š
- `daily_quest`: æ¯å¤©é‡ç½®çš„å¸¸è¦ä»»å‹™
- `weekly_mission`: æ¯é€±é‡ç½®çš„å¸¸è¦ä»»å‹™
- `challenge`: æœ‰ç‰¹æ®Šæ¢ä»¶çš„æŒ‘æˆ°ï¼ˆå¦‚æ™‚é–“é™åˆ¶ã€é€£çºŒæ€§è¦æ±‚ï¼‰
- `milestone`: é•·æœŸæˆå°±ç›®æ¨™ï¼ˆä¸é‡ç½®ï¼‰

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [README.md](./README.md) - åŠŸèƒ½ç¸½è¦½
