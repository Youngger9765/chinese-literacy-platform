# 國語文閱讀平台 - 6個月開發流程

> **核心策略**: 自學優先（完整 AI 輔助）→ 體制發展（規模化工具）→ 作業後補（簡化版）
> **時間**: 2026 年 2 月 - 8 月（24 週）

---

## 🎯 核心理念

### 兩種學習模式的差異

| 模式 | 對象 | AI 功能 | 原因 |
|------|------|---------|------|
| **自學模式** | 學生自主學習 | 朗讀分析 + 蘇格拉底對話 | 沒有老師，AI 扮演老師角色 |
| **作業模式** | 老師指派作業 | 朗讀分析 only | 有真老師引導理解 |

**關鍵**: 自學需要完整 AI 輔助，作業只需朗讀分析

---

## 📅 Phase 0: 環境建置（Week 1-2）

### Week 1: Git 協作環境

**Git 協作設定**:
- GitHub 倉庫建立
- 分支策略（main/feature/bugfix）
- Commit message 規範

**GitHub Actions 自動化**:
- Issue 建立 → 自動建立分支
- 程式碼 Push → 自動測試
- 測試通過 → 自動合併

**專案環境**:
- Next.js 14 + FastAPI 專案初始化
- PostgreSQL 本地開發環境
- Docker Compose 設定

### Week 2: Azure Speech SDK 測試

**語音辨識測試**:
- Azure 帳號申請與設定
- zh-TW 語音辨識精準度測試（目標 >90%）
- 兒童語音樣本測試（5-8 歲）
- 成本評估與優化方案

**🎯 Demo 1 (曾教授)**:
- 展示 Azure 語音辨識精準度
- 確認技術可行性

---

## 📅 Phase 1: 自學模式（Week 3-10）

> **核心**: 完整 AI 輔助學習（朗讀分析 + 蘇格拉底對話）

### Week 3-4: 資料庫設計

**核心資料表**:
- `lessons` - 官方課程庫
- `students` - 學生基本資料
- `submissions` - 學習記錄（含 `assignment_id` 欄位，預留作業模式）
- `error_words` - 錯誤詞彙追蹤

**設計原則**:
- `submissions.assignment_id` 欄位：NULL = 自學，有值 = 作業
- Phase 1 暫不加入 `classroom_id`（Phase 3 再補）

### Week 5-6: 朗讀分析核心

**後端（FastAPI）**:
- Azure Speech SDK 整合
- 文本比對演算法（difflib + jellyfish）
- 即時回饋 API（< 5 秒回應）

**前端（Next.js）**:
- 錄音元件（AudioRecorder）
- 六段式即時回饋介面：
  1. 總覽（正確率、語速）
  2. 錄音播放
  3. 逐句分析
  4. 錯字詞清單
  5. 練習建議
  6. AI 詳細分析
- 注音符號切換（Space 鍵）

### Week 7-8: 蘇格拉底對話（自學必備）

**AI 對話系統**:
- LLM API 整合（OpenAI/Anthropic/Google/本地模型）
- 開放式問題生成（基於課文內容）
- 蘇格拉底式引導對話
- 理解度評估演算法

**為什麼自學需要對話？**
- 閱讀能力 = 識字解碼 × 背景知識
- 朗讀分析 → 識字解碼
- 蘇格拉底對話 → 背景知識
- 自學時沒有老師，AI 必須扮演老師角色

### Week 9-10: 自學介面整合

**完整學習流程**:
1. 課文選擇（官方課程庫瀏覽）
2. 朗讀練習 → AI 即時分析
3. 蘇格拉底對話 → AI 引導理解
4. 個人學習歷程（學習曲線圖）

**分段朗讀**:
- 段落 → 段落 → 整篇
- 每段都有即時回饋

**🎯 Demo 2 (曾教授, Week 10)**:
- 展示完整自學流程
- 選課文 → 朗讀（AI 分析）→ 對話（AI 引導理解）

---

## 📅 Phase 2: 深化學習功能（Week 11-16）

> **目標**: 加強自學模式的輔助功能

### Week 11-12: 生字學習模組

**生字學習**:
- 生字卡片介面（筆順動畫）
- 注音符號標註系統
- 部首拆解與解釋
- 生字練習遊戲（拖曳配對）

### Week 13-14: 錯誤詞彙追蹤

**個人化練習**:
- 錯誤詞彙資料庫
- 個人化練習清單（只練錯的字）
- 重複練習推薦引擎
- 易錯字排行榜

**符合教學原則**:
- 避免無效罰抄（曾世杰教授）
- 只練錯的字，不浪費時間

### Week 15-16: 學習歷程優化

**數據視覺化**:
- 學習曲線圖（正確率趨勢）
- 進度視覺化（完成度統計）
- 時間統計（學習時長、活躍度）
- 成就系統（勳章、里程碑）

**🎯 Demo 3 (曾教授, Week 16)**:
- 展示深化後的自學模式
- 朗讀分析 + 蘇格拉底對話 + 生字學習 + 錯誤追蹤

---

## 📅 Phase 3: 校班師生課系統（Week 17-20）

> **目標**: 建立管理架構，支援多校多班

### Week 17: 多層級架構建立

**新增資料表**:
- `schools` - 學校管理
- `classrooms` - 班級管理
- `teachers` - 教師帳號
- `students` 表加入 `classroom_id` 欄位

### Week 18-19: 教師管理介面

**教師功能**:
- 班級 CRUD（新增/編輯/刪除班級）
- 學生批量匯入（CSV）
- RBAC 權限控制
- 學生進度查看（班級統計報告）

### Week 20: 課文管理與版權

**課文上傳**:
- 教師上傳課文功能
- 使用同意書（版權聲明）：
  1. 課文來自學校採購的教科書
  2. 沒有使用未授權課文
  3. 學期結束後系統自動刪除
- Email 網域驗證（@school.edu.tw）

**🎯 Demo 4 (曾教授, Week 20)**:
- 展示完整的校班師生課管理系統

---

## 📅 Phase 4: 作業模式（Week 21-22）

> **目標**: 基於自學模式擴展，老師可指派課文

### Week 21: 作業指派功能

**新增資料表**:
- `assignments` - 作業表

**教師功能**:
- 作業指派介面（選課文 + 選班級 + 設定截止日期）
- 學生看到「待完成作業」列表
- 作業截止日期提醒

### Week 22: 作業/自學整合

**作業模式流程**:
1. 老師指派課文
2. 學生朗讀 → AI 分析
3. 結束（不需蘇格拉底對話）

**為什麼作業不需對話？**
- 有真老師在課堂引導理解
- AI 只需分析朗讀結果給老師看

**教師統計報告**:
- 班級作業完成度
- 學生朗讀正確率排名
- 易錯字統計
- 學生預警通知（超過 7 天未完成）

**資料庫記錄**:
- `submissions.assignment_id` 開始有值
- 自學：`assignment_id = NULL`
- 作業：`assignment_id = 123`

---

## 📅 Phase 5: Beta 測試與上線（Week 23-24）

### Week 23: 多校 Beta 測試

**測試準備**:
- 招募 2-3 個示範班級（50-100 學生）
- 教師培訓與操作手冊
- 使用者回饋收集機制
- 效能監控與日誌分析

### Week 24: 最終 Demo 與上線

**最終驗收**:
- 曾教授最終驗收
- 完整功能展示
- Bug 修復與優化
- 正式環境部署

**🎯 Demo 5 (曾教授, Week 24)**:
- 完整系統展示
- 確認所有功能達標
- 準備正式上線

---

## 🛠 技術棧總結

| 層級 | 技術選擇 | 說明 |
|------|---------|------|
| **前端** | Next.js 14 + TypeScript | App Router, SSR/SSG |
| **後端** | FastAPI (Python 3.11+) | 異步 API, AI/ML 生態系 |
| **資料庫** | PostgreSQL 15 | 關聯資料, JSON 支援 |
| **語音辨識** | Azure Speech SDK | zh-TW 語音轉文字 |
| **AI 對話** | LLM API | OpenAI/Anthropic/Google/本地 |
| **部署** | GCP Cloud Run + Cloud SQL | Serverless, 自動擴展 |
| **容器化** | Docker + Docker Compose | 本地開發環境 |
| **CI/CD** | GitHub Actions | 自動測試、自動部署 |

---

## 📊 里程碑與 Demo 檢查點

| Demo | 時間 | 展示內容 | 驗證目標 |
|------|------|---------|---------|
| **Demo 1** | Week 2 | Azure 語音辨識測試 | 技術可行性 |
| **Demo 2** | Week 10 | 完整自學流程（朗讀+對話） | 核心學習功能 |
| **Demo 3** | Week 16 | 深化功能（生字+錯誤追蹤） | 學習效果優化 |
| **Demo 4** | Week 20 | 校班師生課管理系統 | 規模化能力 |
| **Demo 5** | Week 24 | 完整系統（自學+作業） | 最終驗收 |

---

## 🎯 開發優先級

### P0 (必做) - Phase 1-2
- ✅ 朗讀分析（Azure Speech SDK）
- ✅ 蘇格拉底對話（LLM API）
- ✅ 自學介面
- ✅ 生字學習
- ✅ 錯誤追蹤

### P1 (重要) - Phase 3-4
- ✅ 校班師生課系統
- ✅ 教師管理介面
- ✅ 作業模式

### P2 (加分) - 未來考慮
- 成就系統
- 排行榜
- 家長報告
- 多語言支援

---

## 💡 核心設計原則

### 1. 自學優先
- 先做出能用的學習功能
- 快速驗證教學效果
- 不需要管理系統也能用

### 2. 設計預留擴展性
- 資料庫一開始就考慮作業模式
- `assignment_id` 欄位預留
- 前端元件設計考慮兩種模式

### 3. 複用性
- 作業模式複用自學的朗讀分析流程
- 只是入口不同（自選 vs 指派）
- 減少重複開發

### 4. AI 輔助的差異化
- 自學：完整 AI（分析 + 引導）
- 作業：簡化 AI（只分析）
- 根據使用情境調整 AI 投入

---

## 📝 Git 工作流程

### Issue → Branch → Commit → PR → Merge

```
1. 建立 GitHub Issue
   ↓
2. GitHub Actions 自動建立分支
   ↓
3. 開發者在分支上寫程式
   ↓
4. Commit (遵循 Conventional Commits)
   ↓
5. Push 後自動跑測試
   ↓
6. 測試通過自動建立 PR
   ↓
7. Code Review 通過後自動合併
   ↓
8. Issue 自動關閉
```

### Commit Message 規範

```
<類型>: <簡短描述> (#Issue編號)

類型:
- feat: 新功能
- fix: 修 bug
- docs: 文件變更
- refactor: 重構
- test: 加入測試
- chore: 雜項
```

---

**Generated with [Claude Code](https://claude.ai/code) via [Happy](https://happy.engineering)**

Co-Authored-By: Claude <noreply@anthropic.com>
Co-Authored-By: Happy <yesreply@happy.engineering>
