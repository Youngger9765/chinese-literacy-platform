# MVP 演進路徑：由小到大

> **核心策略**: 從最小可用產品開始，逐步擴展，每個階段都是可用的完整產品

---

## 🎯 MVP 演進邏輯

```
個人學習 → 學習歷程 → 班級管理 → 多校體制 → 作業模式
(最小)                                        (完整)
```

**關鍵原則**：
- ✅ 每個階段都是**可獨立運作**的產品
- ✅ 後續階段**不破壞**前面的功能
- ✅ 漸進式加入複雜度

---

## 📅 6 個月 MVP 演進

### MVP 1: 環境協作（Week 1-2）

**目標**: 建立開發基礎設施

**交付物**:
```
✅ GitHub 倉庫 + Issue 工作流程
✅ 自動化 CI/CD (Issue → Branch → Test → Merge)
✅ Next.js + FastAPI 專案骨架
✅ PostgreSQL + Docker 本地環境
```

**可用性**: 開發團隊可協作寫程式

---

### MVP 2: 測試核心功能（Week 2）

**目標**: 驗證技術可行性

**交付物**:
```
✅ Azure Speech SDK zh-TW 測試（>90% 準確率）
✅ 兒童語音樣本測試（5-8 歲）
✅ 成本評估（$250/月 / 50 學生）
```

**驗證問題**:
- ❓ Azure 中文語音辨識夠準確嗎？
- ❓ 成本可接受嗎？
- ❓ 需要切換其他方案嗎？

**🎯 Demo 1 (Week 2)**: 展示技術可行性

---

### MVP 3: 學習自學模式 Flow 確立（Week 3-10）

**目標**: 單一學生可完整自學

**使用者故事**:
```
我是小明（8 歲學生）
我想練習朗讀
我打開平台 → 選課文 → 錄音 → 看回饋 → AI 問我問題 → 我回答 → 看學習記錄
```

**核心 Flow**:
```
1. 選課文（官方課程庫）
   ↓
2. 朗讀練習（分段朗讀）
   ↓
3. AI 即時回饋（6 段式）
   - 總覽（正確率、語速）
   - 錄音播放
   - 逐句分析
   - 錯字詞清單
   - 練習建議
   - AI 詳細分析
   ↓
4. 蘇格拉底對話（AI 引導理解）
   - AI: 「這篇文章在講什麼？」
   - 學生: 「...」
   - AI: 「那你覺得主角為什麼這樣做？」
   ↓
5. 記錄學習數據
```

**資料庫**:
```sql
-- 最小資料表
students (id, name, email)
lessons (id, title, content)
submissions (id, student_id, lesson_id, audio_url, accuracy, created_at)
error_words (id, submission_id, word, error_type)
```

**技術整合**:
- Azure Speech SDK（朗讀分析）
- LLM API（蘇格拉底對話）
- Next.js（學生介面）
- FastAPI（AI 邏輯）

**可用性**: 單一學生可完整自學，不需要老師

**🎯 Demo 2 (Week 10)**: 展示完整自學流程

---

### MVP 4: 歷程要能看得到（Week 11-16）

**目標**: 學習數據視覺化，學生能看到進步

**新增功能**:
```
✅ 生字學習模組（筆順動畫）
✅ 錯誤詞彙追蹤（只練錯的字）
✅ 學習曲線圖（正確率趨勢）
✅ 進度視覺化（完成度統計）
✅ 時間統計（學習時長）
✅ 成就系統（勳章）
```

**使用者故事**:
```
我是小明
我想看我的進步
我打開「學習歷程」→ 看到我的學習曲線圖 → 看到我常錯的字 → 看到我的勳章
```

**資料擴充**:
```sql
-- 新增欄位
submissions 表加入：
  - reading_speed (語速)
  - fluency_score (流暢度)
  - comprehension_score (理解度，來自蘇格拉底對話)

-- 新增表
achievements (id, student_id, badge_type, earned_at)
practice_history (id, student_id, word, practice_count)
```

**可用性**: 學生看得到自己的進步，更有動力

**🎯 Demo 3 (Week 16)**: 展示學習歷程

---

### MVP 5: 班師生體制加入，但不破壞前面的制度（Week 17-20）

**目標**: 支援多學生、多班級，但原本的自學功能不受影響

**新增功能**:
```
✅ 學校管理（多校）
✅ 班級管理（一校多班）
✅ 教師帳號（RBAC 權限）
✅ 學生批量匯入（CSV）
✅ 班級統計報告（老師可看班級進度）
```

**使用者故事**:
```
我是李老師
我要管理我的班級
我登入 → 建立班級「三年一班」→ 匯入學生名單（CSV）→ 看班級統計報告
```

**資料擴充**:
```sql
-- 新增表
schools (id, name, domain)
classrooms (id, school_id, name, grade)
teachers (id, school_id, name, email)

-- 擴充現有表
students 表加入：
  - classroom_id (可為 NULL，保留原本的個人學習)

submissions 表維持不變（重要！不破壞原有功能）
```

**關鍵設計**:
- `students.classroom_id` **可為 NULL**
  - NULL = 個人自學（MVP 3-4 的使用者）
  - 有值 = 屬於某班級
- 原本的自學 Flow **完全不變**
- 只是多了「老師可看班級統計」的功能

**可用性**:
- ✅ 原本的個人學習者照常用
- ✅ 加入班級的學生也能用
- ✅ 老師可管理班級

**🎯 Demo 4 (Week 20)**: 展示多校多班管理

---

### MVP 6: 機構加入各層管理員權責模式（Week 21-22）

**目標**: 完整的權限分層，支援作業模式

**新增功能**:
```
✅ 課文管理（教師上傳、版權控制）
✅ 作業指派（老師 → 班級）
✅ 作業統計報告（完成度、正確率排名）
✅ 權責分層（學校管理員、教師、學生）
```

**權責模式**:
```
┌─────────────────────────────┐
│   平台管理員 (Super Admin)   │  ← 可看所有學校
└──────────────┬──────────────┘
               │
       ┌───────┴───────┐
       ↓               ↓
┌─────────────┐  ┌─────────────┐
│ 學校管理員 A │  │ 學校管理員 B │  ← 可看自己學校所有班級
└──────┬──────┘  └──────┬──────┘
       │                │
   ┌───┴───┐        ┌───┴───┐
   ↓       ↓        ↓       ↓
┌─────┐ ┌─────┐  ┌─────┐ ┌─────┐
│教師A│ │教師B│  │教師C│ │教師D│  ← 可看自己班級學生
└──┬──┘ └──┬──┘  └──┬──┘ └──┬──┘
   │       │        │       │
┌──┴──┐ ┌──┴──┐  ┌──┴──┐ ┌──┴──┐
│學生群│ │學生群│  │學生群│ │學生群│
└─────┘ └─────┘  └─────┘ └─────┘
```

**使用者故事**:
```
我是李老師
我要派作業
我登入 → 選「三年一班」→ 選課文「小狗」→ 設定截止日 2/20 → 發佈作業
→ 學生看到「待完成作業」→ 學生朗讀 → AI 分析 → 老師看統計報告
```

**資料擴充**:
```sql
-- 新增表
assignments (id, classroom_id, lesson_id, teacher_id, due_date)

-- 擴充現有表
submissions 表的 assignment_id 開始有值：
  - NULL = 自學（MVP 3-4-5 的使用者）
  - 有值 = 作業（MVP 6 新增）

teachers 表加入：
  - role (teacher | school_admin | super_admin)
```

**作業模式 vs 自學模式**:
```
自學模式（原有）：
  學生選課文 → 朗讀 → AI 分析 → 蘇格拉底對話
  submissions.assignment_id = NULL

作業模式（新增）：
  老師指派 → 學生朗讀 → AI 分析 → 老師看報告
  submissions.assignment_id = 123
  （不需蘇格拉底對話，老師會在課堂引導）
```

**可用性**:
- ✅ 個人自學者照常用
- ✅ 班級學生照常用
- ✅ 老師可派作業
- ✅ 學校管理員可管理多班級

**🎯 Demo 5 (Week 24)**: 展示完整系統

---

## 📊 MVP 演進對照表

| MVP | 時間 | 核心功能 | 使用者 | 資料庫變化 |
|-----|------|---------|-------|-----------|
| **MVP 1** | Week 1-2 | 環境協作 | 開發團隊 | 無 |
| **MVP 2** | Week 2 | 測試核心 | 開發團隊 | 無 |
| **MVP 3** | Week 3-10 | 自學 Flow | 單一學生 | students, lessons, submissions, error_words |
| **MVP 4** | Week 11-16 | 學習歷程 | 單一學生 | +achievements, +practice_history |
| **MVP 5** | Week 17-20 | 班師生體制 | 學生+老師 | +schools, +classrooms, +teachers<br>students 加入 classroom_id (nullable) |
| **MVP 6** | Week 21-22 | 作業模式 | 學生+老師+管理員 | +assignments<br>submissions.assignment_id 開始有值<br>teachers.role 權限分層 |

---

## 🔑 關鍵設計原則

### 1. 向下相容（Backward Compatible）

```
MVP 3 使用者（個人自學）在 MVP 6 照常使用：
- students.classroom_id = NULL
- submissions.assignment_id = NULL
- 完全不受影響
```

### 2. 漸進式複雜度

```
資料庫欄位設計：
- MVP 3: 必填欄位（student_id, lesson_id）
- MVP 5: 可選欄位（classroom_id NULLABLE）
- MVP 6: 可選欄位（assignment_id NULLABLE）

不破壞原有資料
```

### 3. 功能獨立性

```
自學模式（MVP 3-4）：
  - 完全獨立運作
  - 不需要班級、老師、作業

班級模式（MVP 5）：
  - 擴充自學模式
  - 加入管理功能
  - 自學功能不變

作業模式（MVP 6）：
  - 複用朗讀分析
  - 簡化 AI 功能（無蘇格拉底對話）
  - 自學/班級功能不變
```

---

## 🎯 每個 MVP 的成功標準

### MVP 3 成功標準（Week 10）
```
✅ 學生可選課文
✅ 錄音 → AI 分析 < 5 秒
✅ 蘇格拉底對話能引導理解
✅ 學習記錄被儲存
```

### MVP 4 成功標準（Week 16）
```
✅ 學習曲線圖正確顯示
✅ 錯誤詞彙追蹤準確
✅ 學生能看到進步
```

### MVP 5 成功標準（Week 20）
```
✅ 老師可建立班級
✅ 學生可加入班級
✅ 班級統計報告正確
✅ 原有自學功能不受影響
```

### MVP 6 成功標準（Week 24）
```
✅ 老師可派作業
✅ 學生可完成作業
✅ 作業統計報告正確
✅ 權限分層正確（學校管理員、教師、學生）
✅ 原有功能不受影響
```

---

## 🚀 上線策略

### Week 10: MVP 3 可先行上線
```
對象：個人學習者、家長
功能：完整自學系統
部署：GCP Cloud Run
```

### Week 16: MVP 4 升級
```
對象：同上 + 學習數據視覺化
功能：學習歷程追蹤
部署：平滑升級（不中斷服務）
```

### Week 20: MVP 5 升級
```
對象：學校、教師
功能：班級管理
部署：平滑升級（個人用戶不受影響）
```

### Week 24: MVP 6 正式版
```
對象：全部
功能：完整系統（自學+作業）
部署：Beta 測試後正式上線
```

---

## 💡 為什麼這個演進路徑好？

### 1. 快速驗證價值
```
Week 10 就有可用產品
不需要等 6 個月
```

### 2. 降低風險
```
每個階段都可獨立測試
問題早發現、早修正
```

### 3. 用戶回饋驅動
```
MVP 3 用戶反饋 → 調整 MVP 4
MVP 4 用戶反饋 → 調整 MVP 5
逐步優化
```

### 4. 不破壞原有功能
```
每次升級都是「加法」，不是「改法」
舊用戶不受影響
```

### 5. 符合 Lean Startup
```
Build（最小可用） → Measure（數據回饋） → Learn（調整方向） → Scale（擴展）
```

---

**Generated with [Claude Code](https://claude.ai/code) via [Happy](https://happy.engineering)**

Co-Authored-By: Claude <noreply@anthropic.com>
Co-Authored-By: Happy <yesreply@happy.engineering>
